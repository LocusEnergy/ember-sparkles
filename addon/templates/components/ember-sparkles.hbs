<g transform="translate({{marginLeft}},{{marginTop}})">

  {{yield (hash
    bar-chart=(component 'ember-sparkles/bar-chart'
      width=innerWidth
      height=innerHeight
      tickFormat=(or tick-format '%Y-%m-%d')
    )
    grouped-bar-chart=(component 'ember-sparkles/grouped-bar-chart'
      width=innerWidth
      height=innerHeight

      inputAccessor=(d3-get sparkled.inputKey)
      valueAccessor=(d3-get sparkled.valueKey)
      outputAccessor=(d3-get sparkled.outputKey)
      groupAccessor=(d3-get sparkled.groupKey)

      xScale=(band-scale
        (ember-sparkles/map sparkled.data (d3-get sparkled.inputKey))
        (append 0 innerWidth)
        round=true
        padding=padding
      )

      yScale=(linear-scale
        (append 0 sparkled.outputMax)
        (append innerHeight 0)
      )

      groupDomain=sparkled.groupDomain
      data=sparkled.data

      colorScale=(cat-color-scale '20c' sparkled.groupDomain)
      tickFormat=(or tick-format '%Y-%m-%d')
      transition=(or transition (ember-sparkles/transition duration=800 data=sparkled.data))
    )

    line-chart=(component 'ember-sparkles/line-chart'
      width=innerWidth height=innerHeight
    )

    pie-chart=(component 'ember-sparkles/pie-chart'
      width=innerWidth
      heigth=innerHeight
      centerWidth=(div innerWidth 2)
      centerHeight=(div innerHeight 2)
      colorScale=(cat-color-scale '20' domain)
      radius=(div (d3-array 'min' (array innerWidth innerHeight)) 2)
      transition=(or transition (ember-sparkles/transition duration=500 data=data))
    )

    width=innerWidth
    height=innerHeight
    sparkled=sparkled
  )}}
</g>
